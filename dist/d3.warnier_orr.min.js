function d3_warnier_orr(a){function b(a){var b=g.nodes(a),c=g.links(b),e=(h.selectAll(".link").data(c).enter().append("path").attr("fill","none").attr("class","link").attr("d",function(a){return["M"+a.source.y+","+a.source.x,a.source.y+d+","+a.source.x,a.source.y+d+","+a.target.x,a.target.y-(a.target.y-a.source.y)+d/2+d+","+a.target.x].join(" ")}),h.selectAll(".node").data(b).enter().append("g").attr("class","node").attr("transform",function(a){return"translate("+(a.children?a.y:a.y/1.2)+","+a.x+")"}));e.append("text").attr("dx",function(a){return a.root?0:1.2*-d}).attr("dy",function(a){return a.root?1.2*-d:(a.children,4)}).attr("font-size",function(a){return a.children?14:12}).attr("transform",function(a){return a.root?"rotate(-90)":""}).attr("font-weight",function(a){return a.children?"bold":"normal"}).style("text-anchor",function(a){return a.root?"middle":a.children?"end":"start"}).text(function(a){return a.name})}var c=100,d=a.nub_size||12,e=a.width||window.innerWidth/2,f=a.height||window.innerHeight/2,g=d3.layout.cluster().size([f,e-c]).separation(function(a,b){return a.parent==b.parent?1:4}),h=(d3.svg.diagonal().projection(function(a){return[a.y,a.x]}),d3.select(a.container||"body").append("svg").attr("width",e).attr("height",f).append("g").attr("transform","translate("+c/2+",0)"));if(a.json)d3.json(a.json,function(a,c){if(a)throw a;b(c)});else{if(!a.data)throw new Error("No data specified!");b(a.data)}}